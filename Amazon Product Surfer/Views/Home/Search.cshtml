@model Amazon_Product_Surfer.Models.ViewModel

@{
    ViewBag.Title = "Results";
}

<div class="infos">
    <div id="currentPage" value=@Html.DisplayFor(modelItem => Model.page)>@Html.DisplayFor(modelItem => Model.page)></div>
    <div id="maxPages" value=@Html.DisplayFor(modelItem => Model.maxPages)>@Html.DisplayFor(modelItem => Model.maxPages)></div>
    @{
        var billy =Model.searchTerm;
        <div id="searchWord">@billy</div>
    }
    <div id="isLast" value=@Html.DisplayFor(modelItem => Model.islast)>@Html.DisplayFor(modelItem => Model.islast)></div>
</div>
<div id="page">
    <div id="firstPage">
        @{
            if (Model.ItemListForView.Count() > 0)
            {
                var howMany=13;
                if(Model.ItemListForView.Count() < 13)
                {
                    howMany = Model.ItemListForView.Count();
                }

                for (int i = 0; i < howMany; i++)
                {
                    <div class="itemBox">
                        @{
                            <a href=@Html.DisplayFor(modelItem => Model.ItemListForView[i].website) class="itemName"> @Html.DisplayFor(modelItem => Model.ItemListForView[i].name)</a>

                            var amazePrice = Model.ItemListForView[i].priceAmazonF.ToString("F", System.Globalization.CultureInfo.InvariantCulture);
                            var newPrice = Model.ItemListForView[i].priceNewF.ToString("F", System.Globalization.CultureInfo.InvariantCulture);
                            var usedPrice = Model.ItemListForView[i].priceUsedF.ToString("F", System.Globalization.CultureInfo.InvariantCulture);

                            if (amazePrice == "-1.00")
                            {
                                amazePrice = "X";
                            }
                            if (newPrice == "-1.00")
                            {
                                newPrice = "X";
                            }
                            if (usedPrice == "-1.00")
                            {
                                usedPrice = "X";
                            }

                            <div class="pricesInItemBox">
                                <div value=@Html.DisplayFor(modelItem => Model.ItemListForView[i].priceAmazon) class="price priceAmazon" title="Amazon's price">@amazePrice</div>
                                <div value=@Html.DisplayFor(modelItem => Model.ItemListForView[i].priceNew) class="price priceNew" title="Lowest price of new item">@newPrice</div>
                                <div value=@Html.DisplayFor(modelItem => Model.ItemListForView[i].priceUsed) class="price priceUsed" title="Lowest price of used item">@usedPrice</div>
                            </div>
                        }
                    </div>
                    }
                }
                else
                {
                    <h2>No results :(</h2>
                }
        }
    </div>

    <div id="secondPage">
        @{
            if (Model.ItemListForView.Count() > 13)
            {

                var howMany = 26;
                if (Model.ItemListForView.Count() < 26 && Model.ItemListForView.Count() > 13)
                {
                    howMany = Model.ItemListForView.Count();
                }

                for (int i = 13; i < howMany; i++)
                {
                    <div class="itemBox">
                        @{
                            <a href=@Html.DisplayFor(modelItem => Model.ItemListForView[i].website) class="itemName">@Html.DisplayFor(modelItem => Model.ItemListForView[i].name)</a>

                            var amazePrice = Model.ItemListForView[i].priceAmazonF.ToString("F", System.Globalization.CultureInfo.InvariantCulture);
                            var newPrice = Model.ItemListForView[i].priceNewF.ToString("F", System.Globalization.CultureInfo.InvariantCulture);
                            var usedPrice = Model.ItemListForView[i].priceUsedF.ToString("F", System.Globalization.CultureInfo.InvariantCulture);

                            if (amazePrice == "-1.00")
                            {
                                amazePrice = "X";
                            }
                            if (newPrice == "-1.00")
                            {
                                newPrice = "X";
                            }
                            if (usedPrice == "-1.00")
                            {
                                usedPrice = "X";
                            }
                            <div class="pricesInItemBox">
                                <div value=@Html.DisplayFor(modelItem => Model.ItemListForView[i].priceAmazon) class="price priceAmazon" title="Amazon's price">@amazePrice</div>
                                <div value=@Html.DisplayFor(modelItem => Model.ItemListForView[i].priceNew) class="price priceNew" title="Lowest price of new item">@newPrice</div>
                                <div value=@Html.DisplayFor(modelItem => Model.ItemListForView[i].priceUsed) class="price priceUsed" title="Lowest price of used item">@usedPrice</div>
                            </div>
                        }
                    </div>
                    }
                }
        }
    </div>

    <div id="pageButtons">
        <div class="PageShortcut" id="Page1" value="1" onclick="">-1</div>
        <div class="PageShortcut" id="Page2" value="2" onclick="">-1</div>
        <div class="PageShortcut" id="Page3" value="3" onclick="">-1</div>
        <div class="PageShortcut" id="Page4" value="4" onclick="">-1</div>
        <div class="PageShortcut" id="Page5" value="5" onclick="">-1</div>
        <div class="PageShortcut" id="Page6" value="6" onclick="">-1</div>
        <div class="PageShortcut" id="Page7" value="7" onclick="">-1</div>
    </div>
</div>
